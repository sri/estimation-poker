<head>
  <title>scrum-poker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>

  <div class="row">
    <div class="col-xs-6 col-md-4">&nbsp;</div>
    <div class="col-xs-6 col-md-4 main">
     {{> user}}
     {{> points}}

     {{> epics}}
    </div>
    <div class="col-xs-6 col-md-4">&nbsp;</div>
  </div>

</body>

<template name="points">
  <div class="btn-group points" role="group">
    <button type="button" class="btn btn-default"><b>Points:</b></button>
    <button type="button" class="btn btn-default point">2</button>
    <button type="button" class="btn btn-default point">3</button>
    <button type="button" class="btn btn-default point">5</button>
    <button type="button" class="btn btn-default point">8</button>
    <button type="button" class="btn btn-default point">13</button>
  </div>
</template>

<template name="user">
  <form>
    <div class="user">
      {{#if user}}
        <b>{{user}}</b>
      {{else}}
        <div class="input-group">
          <input type="text" class="form-control" name="username" placeholder="Username"/>
          <span class="input-group-btn">
            <button class="btn btn-default">join session</button>
          </span>
        </div>
      {{/if}}
    </div>
  </form>
</template>

<template name="epics">
  {{#with openEpic}}
    <div class="epic open-epic">
      {{> votes id=_id}}
      <button type="button" class="close" title="Close">&times;</button>
    </div>
  {{/with}}

  {{#each closedEpics}}
    <div class="epic closed-epic">
      {{> votes id=_id}}
    </div>
  {{/each}}
</template>

<template name="votes">
  <ul class="list-group">
    {{#each votes id}}
      <li class="list-group-item">
        <span class="badge">{{points}}</span>
        {{by}}
      </li>
    {{/each}}
    <li class="list-group-item">
      <span class="badge">{{avg id}}</span>
      Avg
    </li>
  </ul>
</template>

